<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>地图学习笔记 | 源于生活</title>
    <meta name="description" content="write something">
    <meta name="generator" content="VuePress 1.3.0">
    
    
    <link rel="preload" href="/assets/css/0.styles.2e629a8b.css" as="style"><link rel="preload" href="/assets/js/app.3f86075b.js" as="script"><link rel="preload" href="/assets/js/2.b61884c0.js" as="script"><link rel="preload" href="/assets/js/35.6cb77e7b.js" as="script"><link rel="prefetch" href="/assets/js/10.43843a91.js"><link rel="prefetch" href="/assets/js/11.6144a746.js"><link rel="prefetch" href="/assets/js/12.931ab5ee.js"><link rel="prefetch" href="/assets/js/13.200ba20e.js"><link rel="prefetch" href="/assets/js/14.78767d2c.js"><link rel="prefetch" href="/assets/js/15.8f783edc.js"><link rel="prefetch" href="/assets/js/16.9226847d.js"><link rel="prefetch" href="/assets/js/17.bf6644b0.js"><link rel="prefetch" href="/assets/js/18.14599e53.js"><link rel="prefetch" href="/assets/js/19.734e752a.js"><link rel="prefetch" href="/assets/js/20.3a5561e3.js"><link rel="prefetch" href="/assets/js/21.7064855e.js"><link rel="prefetch" href="/assets/js/22.f968cb6c.js"><link rel="prefetch" href="/assets/js/23.f03e443c.js"><link rel="prefetch" href="/assets/js/24.64ce1052.js"><link rel="prefetch" href="/assets/js/25.f684b2ad.js"><link rel="prefetch" href="/assets/js/26.545ca9e8.js"><link rel="prefetch" href="/assets/js/27.437372e3.js"><link rel="prefetch" href="/assets/js/28.3dbb8fe4.js"><link rel="prefetch" href="/assets/js/29.badca37d.js"><link rel="prefetch" href="/assets/js/3.606f011a.js"><link rel="prefetch" href="/assets/js/30.a93aa9de.js"><link rel="prefetch" href="/assets/js/31.1fba5591.js"><link rel="prefetch" href="/assets/js/32.bc8d95d4.js"><link rel="prefetch" href="/assets/js/33.46e8b848.js"><link rel="prefetch" href="/assets/js/34.259ea87a.js"><link rel="prefetch" href="/assets/js/36.dfa5f43c.js"><link rel="prefetch" href="/assets/js/37.ce07fe30.js"><link rel="prefetch" href="/assets/js/38.9aedea0c.js"><link rel="prefetch" href="/assets/js/39.12d20f3b.js"><link rel="prefetch" href="/assets/js/4.5960558f.js"><link rel="prefetch" href="/assets/js/40.0d7119e5.js"><link rel="prefetch" href="/assets/js/41.c463fcdd.js"><link rel="prefetch" href="/assets/js/42.75948f81.js"><link rel="prefetch" href="/assets/js/43.a64e9f06.js"><link rel="prefetch" href="/assets/js/44.9a36c39e.js"><link rel="prefetch" href="/assets/js/45.d55c6f21.js"><link rel="prefetch" href="/assets/js/5.722aa9ed.js"><link rel="prefetch" href="/assets/js/6.7cf19e7f.js"><link rel="prefetch" href="/assets/js/7.57aaa45a.js"><link rel="prefetch" href="/assets/js/8.9246eb47.js"><link rel="prefetch" href="/assets/js/9.b56c8b97.js">
    <link rel="stylesheet" href="/assets/css/0.styles.2e629a8b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">源于生活</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>关于code</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Article/code/实现小型打包工具.html" class="sidebar-link">实现小型打包工具</a></li><li><a href="/Article/code/NextTick 原理分析.html" class="sidebar-link">NextTick 原理分析</a></li><li><a href="/Article/code/Service Worker.html" class="sidebar-link">Service Worker</a></li><li><a href="/Article/code/Vue 和 React 之间的区别.html" class="sidebar-link">Vue 和 React 之间的区别</a></li><li><a href="/Article/code/vue的mvvm原理.html" class="sidebar-link">vue的mvvm原理</a></li><li><a href="/Article/code/前端路由原理.html" class="sidebar-link">前端路由原理</a></li><li><a href="/Article/code/vue编译过程.html" class="sidebar-link">vue编译过程</a></li><li><a href="/Article/code/浏览器的缓存策略.html" class="sidebar-link">浏览器的缓存策略</a></li><li><a href="/Article/code/浏览器缓存位置.html" class="sidebar-link">浏览器缓存位置</a></li><li><a href="/Article/code/多语言.html" class="sidebar-link">前端多语言方案</a></li><li><a href="/Article/code/地图学习.html" class="active sidebar-link">地图学习笔记</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Article/code/地图学习.html#最简单的地图构成" class="sidebar-link">最简单的地图构成:</a></li><li class="sidebar-sub-header"><a href="/Article/code/地图学习.html#地图常用名词：" class="sidebar-link">地图常用名词：</a></li></ul></li><li><a href="/Article/code/数据双向绑定的分析和简单实现.html" class="sidebar-link">数据双向绑定的分析和简单实现</a></li><li><a href="/Article/code/多语言.html" class="sidebar-link">前端多语言方案</a></li><li><a href="/Article/code/出租车平台性能优化.html" class="sidebar-link">出租车平台性能优化</a></li><li><a href="/Article/code/通过队列和栈实现深度优先遍历和广度优先遍历.html" class="sidebar-link">通过队列和栈实现深度优先遍历和广度优先遍历</a></li><li><a href="/Article/code/DSN解析.html" class="sidebar-link">DSN解析</a></li><li><a href="/Article/code/Web单张大图浏览缓慢问题解决.html" class="sidebar-link">Web单张大图浏览缓慢问题解决</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>vue组件</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="地图学习笔记"><a href="#地图学习笔记" class="header-anchor">#</a> 地图学习笔记</h1> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>gis</p></div> <hr> <h2 id="最简单的地图构成"><a href="#最简单的地图构成" class="header-anchor">#</a> 最简单的地图构成:</h2> <div class="language-js extra-class"><div class="highlight-lines"><br><br><br><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br><br></div><pre class="language-js"><code><span class="token comment">// 创建地图</span>
<span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>Map</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
<span class="token comment">// 设置地图图层</span>
layers<span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token comment">// 创建一个使用Open Street Map地图源的瓦片图层</span>
  <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>layer<span class="token punctuation">.</span>Tile</span><span class="token punctuation">(</span><span class="token punctuation">{</span>source<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>source<span class="token punctuation">.</span>OSM</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token comment">// 设置显示地图的视图</span>
view<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>View</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  center<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token comment">//                 定义地图显示中心于经度0度，纬度0度处</span>
  zoom<span class="token operator">:</span> <span class="token number">2</span>            <span class="token comment">// 并且定义地图显示层级为2</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token comment">// 让id为map的div作为地图的容器</span>
target<span class="token operator">:</span> <span class="token string">'map'</span>
</code></pre></div><p>只有一条语句:</p> <div class="language-js extra-class"><div class="highlight-lines"><br><br></div><pre class="language-js"><code><span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>Map</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>其他代码只是用于设置地图的构造参数。由此可以推测出 ol.Map 是最主要的地图类，创建地图就需要构造这么一个对象。接下来依次分析每一个参数部分的代码。</p> <p>参数 layers:</p> <div class="language-js extra-class"><div class="highlight-lines"><br><br><br><div class="highlighted"> </div><br></div><pre class="language-js"><code>    layers<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token comment">// 创建一个使用Open Street Map地图源的瓦片图层</span>
      <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>layer<span class="token punctuation">.</span>Tile</span><span class="token punctuation">(</span><span class="token punctuation">{</span>source<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>source<span class="token punctuation">.</span>OSM</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
</code></pre></div><p>从名字和具体的值可见这个地方可以设置多个 layer，它是 OpenLayers 3 地图的组成结构单元，地图是由多个 layer 组成的，这种设计类似于 Photoshop 里面的图层，多个图层是可以叠加的，在最上面的会覆盖下面的，以此类推.添加了一个 Open Street Map 的地图 layer。</p> <p>参数 view：</p> <div class="language-js extra-class"><div class="highlight-lines"><br><br><br><div class="highlighted"> </div><br></div><pre class="language-js"><code>    view<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>View</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      center<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token comment">// 定义地图显示中心于经度0度，纬度0度处</span>
      zoom<span class="token operator">:</span> <span class="token number">2</span>            <span class="token comment">// 并且定义地图显示层级为2</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</code></pre></div><p>通过字面意思可以看出，它为地图定义显示窗口，对应 ol.View 类，可以自定义地图显示的中心点，缩放层级等。</p> <p>参数 target：</p> <div class="language-js extra-class"><div class="highlight-lines"><br><br></div><pre class="language-js"><code>target<span class="token operator">:</span> <span class="token string">'map'</span>
</code></pre></div><h2 id="地图常用名词："><a href="#地图常用名词：" class="header-anchor">#</a> 地图常用名词：</h2> <h3 id="坐标系"><a href="#坐标系" class="header-anchor">#</a> 坐标系</h3> <p>常用的就是二个,一个是 EPSG:4326，等同于 WGS84 坐标系。另一个是 EPSG:3857，等同于 900913，由 Mercator 投影而来，经常用于 web 地图.一般代码中互相转换 ###分辨率
概念还有点模糊,大概是用来解析屏幕坐标和世界坐标的纽带，通过它，才能知道你在屏幕上用鼠标点击的位置对应于世界地图具体的经纬度位置 ###图层 layer
图层是指能够在视觉上覆盖一定地图范围，用来描述全部或者部分现实世界区域内的地图要素的抽象概念，一幅地图通常由一个或者多个图层组成。</p> <h3 id="矢量图形-vector-overlays"><a href="#矢量图形-vector-overlays" class="header-anchor">#</a> 矢量图形 Vector Overlays</h3> <p>矢量图形，一般覆盖于底图图层之上，通过矢量的方式(路径或者实际大小)来描述其形状，用几何的方式来展示真实的地图要素，会随着地图缩放而发生视觉大小的变化，但其代表的实际路径或范围不变，如上图中红框内的折线、圆、多边形等。</p> <div class="language- extra-class"><pre><code>   除了图中的折线、圆、多边形之外，JS API 还提供了矩形、椭圆、贝瑟尔曲线等常用的矢量图形。3D 视图下的 Mesh、Prism 棱柱、MeshLine 也可以看做是一些特殊的矢量图形。
</code></pre></div><h3 id="点标记-markers"><a href="#点标记-markers" class="header-anchor">#</a> 点标记 Markers</h3> <p>点标记是用来标示某个位置点信息的一种地图要素，覆盖于图层之上。如图中蓝色方框中的两个点状要素。其在屏幕上的位置会随着地图的缩放和中心变化而发生改变，但是会与图层内的要素保持相对静止。
普通的点标记 (即 Marker ) ,支持将自定义图标和 DOM 元素作为展示内容。除了 Marker 之外为了满足不同的场景，JS API 另外提供了丰富的点标记类型，比如圆点标记 (CircleMarker) 、文本标记 (Text)、灵活点标记 (ElasticMarker) 。同时我们提供了海量点（MassMarks）、点聚合（MarkerCluster）来满足大量点标记的展示需求。</p> <h3 id="插件-plugins"><a href="#插件-plugins" class="header-anchor">#</a> 插件 Plugins</h3> <p>插件是独立于 JS API 地图核心模块之外的一些功能，比如服务类、绘制工具、矢量图形编辑工具、点聚合、热力图等。这些插件不会主动随 JS API 的主体资源的加载而下发，使用之前需要提前引入，详见插件的使用。</p> <h3 id="地图级别-zoomlevel"><a href="#地图级别-zoomlevel" class="header-anchor">#</a> 地图级别 ZoomLevel</h3> <p>级别与地图的比例尺成正比，每增大一级，地图的比例尺也增大一倍，地图显示的越详细。Web 地图的最小级别通常为 3 级，最大级别各家略有不同，一般最大级别为 20 级。</p> <h3 id="经纬度-lnglat"><a href="#经纬度-lnglat" class="header-anchor">#</a> 经纬度 LngLat</h3> <p>坐标通常指经纬度坐标，坐标范围大致为：东西经 180 度（-180——180，西半球为负，东半球为正），南北纬 85 度（-85——85，北半球为正，南半球为负）。</p> <h3 id="底图-baselayer"><a href="#底图-baselayer" class="header-anchor">#</a> 底图 BaseLayer</h3> <p>严格意义上，底图指处于所有图层和图形最下方的一个图层，通常不透明。可以是单一图层，比如官方标准图层，也可以是图层组合，比图卫星图层和路网图层组合。</p> <h3 id="地图要素-map-features"><a href="#地图要素-map-features" class="header-anchor">#</a> 地图要素 Map Features</h3> <p>严格意义的地图要素指的是展示在地图上的地理要素，包括道路、区域面、建筑、POI 标注、路名等。开发者自定义的点标记、矢量图形也可以看做是一种地图要素。</p> <h3 id="标注-labels"><a href="#标注-labels" class="header-anchor">#</a> 标注 Labels</h3> <p>我们习惯将底图上自带的标示一定信息的文字或图标称为标注，比如 POI 标注，道路名称标注等。</p> <h3 id="地图平面像素坐标-plane-coordinates"><a href="#地图平面像素坐标-plane-coordinates" class="header-anchor">#</a> 地图平面像素坐标 Plane Coordinates</h3> <p>地图平面像素坐标指投影为平面之后的地图上的平面像素坐标，Web 墨卡托投影，在 3 级时，平面坐标范围为横纵 0-256* 2 的 3 次方 像素，每级别扩大一倍，即第 n 级的平面坐标范围为 0-256*2 的 n 次方 像素。</p> <h3 id="投影-projection"><a href="#投影-projection" class="header-anchor">#</a> 投影 Projection</h3> <p>地图投影指的是将地球球面的经纬度坐标映射到地图平面坐标的变换和映射关系。</p> <h3 id="三维空间坐标-3d-coordinates"><a href="#三维空间坐标-3d-coordinates" class="header-anchor">#</a> 三维空间坐标 3D Coordinates</h3> <p>三维空间坐标是在 3D 地图模式下的世界坐标，由 x、y、z 三个纬度组成。三维空间坐标通常用于描述 Object3D 类型的几何形体。</p> <h3 id="控件-control"><a href="#控件-control" class="header-anchor">#</a> 控件 control</h3> <p>地图控件指的是下图标注的这些，包括缩放按钮，标尺，版权说明，指北针等等。不会随着地图的移动而移动，一直处于一个固定的位置。 在实现上，并不是在画布上绘制的，而是使用传统的 HTML 元素来实现的，便于同地图分离，也便于界面实现。 (自定义控件和开发页面差不多)</p> <ol><li>ol.control.Attribution: 右下角的地图信息控件</li> <li>ol.control.FullScreen: 全屏控件</li> <li>ol.control.MousePosition: 鼠标位置控件</li> <li>ol.control.OverviewMap: 鸟瞰图控件</li> <li>ol.control.Rotate: 指北针控件</li> <li>ol.control.ScaleLine: 比例尺控件</li> <li>ol.control.Zoom: 缩放按钮控件</li> <li>ol.control.ZoomSlider: 缩放滚动条控件</li> <li>ol.control.ZoomToExtent: 放大到设定区域控件</li></ol></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/Article/code/多语言.html" class="prev">
        前端多语言方案
      </a></span> <span class="next"><a href="/Article/code/数据双向绑定的分析和简单实现.html">
        数据双向绑定的分析和简单实现
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><div class="cat-container" data-v-a13867c0><canvas id="vuepress-cat" width="280" height="250" class="live2d" data-v-a13867c0></canvas></div></div></div>
    <script src="/assets/js/app.3f86075b.js" defer></script><script src="/assets/js/2.b61884c0.js" defer></script><script src="/assets/js/35.6cb77e7b.js" defer></script>
  </body>
</html>
